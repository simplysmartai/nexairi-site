function convertStoreSubscriberEmailAsIDInCookie(e){convertkit.debug&&(console.log("convertStoreSubscriberEmailAsIDInCookie"),console.log(e)),fetch(convertkit.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"convertkit_store_subscriber_email_as_id_in_cookie",convertkit_nonce:convertkit.nonce,email:e})}).then(function(e){return convertkit.debug&&console.log(e),e.json()}).then(function(t){convertkit.debug&&console.log(t),convertKitEmitCustomEvent("convertkit_user_subscribed",{id:t.data.id,email:e})}).catch(function(e){convertkit.debug&&console.error(e)})}function convertKitRemoveSubscriberIDFromURL(e){const t=new URL(e),s=t.searchParams.get("ck_subscriber_id");if(s===null)return;t.searchParams.delete("ck_subscriber_id");const o=document.getElementsByTagName("title")[0].innerHTML;let n=t.searchParams.toString();n.length>0&&(n="?"+n),window.history.replaceState(null,o,t.pathname+n+t.hash),convertKitEmitCustomEvent("kit_subscriber_id_removed_from_url",{id:s})}function convertKitSleep(e){const t=(new Date).getTime();for(let n=0;n<1e7;n++)if((new Date).getTime()-t>e)break}function convertKitEmitCustomEvent(e,t){const n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}function convertKitRecaptchaFormSubmit(){const t=document.querySelector('[type="submit"][data-callback="convertKitRecaptchaFormSubmit"]'),n=t.closest("form");n.submit()}document.addEventListener("DOMContentLoaded",function(){convertKitRemoveSubscriberIDFromURL(window.location.href),document.addEventListener("click",function(e){if(!e.target.matches(".formkit-submit")&&(!e.target.parentElement||!e.target.parentElement.matches(".formkit-submit"))){convertkit.debug&&console.log("not a ck form");return}const t=document.querySelector('input[name="email_address"]').value;if(!t.length){convertkit.debug&&console.log("email empty");return}const n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!n.test(t.toLowerCase())){convertkit.debug&&console.log("email not an email address");return}convertKitSleep(2e3),convertStoreSubscriberEmailAsIDInCookie(t)}),document.querySelectorAll("script[data-kit-limit-per-session]").length>0&&(document.cookie="ck_non_inline_form_displayed=1; path=/",convertkit.debug&&console.log("Set `ck_non_inline_form_displayed` cookie for non-inline form limit"))})